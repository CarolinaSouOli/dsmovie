"use strict";(()=>{var xo=Object.defineProperty;var r=(L,A)=>xo(L,"name",{value:A,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["settings"],{3238:(L,A,h)=>{h.d(A,{N:()=>j,x:()=>S});var l=h(2998);let b=null;(async function(){await l.x,u()})();function j(m){S(g(m))}r(j,"announceFromElement");function S(m){!b||(b.textContent="",b.textContent=m)}r(S,"announce");function u(){b=document.createElement("div"),b.setAttribute("aria-live","polite"),b.classList.add("sr-only"),document.body.append(b)}r(u,"createNoticeContainer");function g(m){return(m.getAttribute("aria-label")||m.innerText||"").trim()}r(g,"getTextContent")},32885:(L,A,h)=>{h.d(A,{I3:()=>l,h5:()=>j,on:()=>S,yn:()=>u});function l(){if(b("dark"))return"dark";if(b("light"))return"light"}r(l,"getPreferredColorMode");function b(g){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${g})`).matches}r(b,"prefersColorScheme");function j(g){const m=document.querySelector("html[data-color-mode]");!m||m.setAttribute("data-color-mode",g)}r(j,"setClientMode");function S(g,m){const i=document.querySelector("html[data-color-mode]");!i||i.setAttribute(`data-${m}-theme`,g)}r(S,"setClientTheme");function u(g){const m=document.querySelector("html[data-color-mode]");if(!!m)return m.getAttribute(`data-${g}-theme`)}r(u,"getClientTheme")},68842:(L,A,h)=>{h.d(A,{Mw:()=>D,_C:()=>k,lO:()=>v,qA:()=>d,y0:()=>S});const l=[];let b=0,j;function S(){return j}r(S,"getState");function u(){try{return Math.min(Math.max(0,history.length)||0,9007199254740991)}catch{return 0}}r(u,"safeGetHistory");function g(){const w={_id:new Date().getTime()};return i(w),w}r(g,"initializeState");function m(){return u()-1+b}r(m,"position");function i(w){j=w;const x=location.href;l[m()]={url:x,state:j},l.length=u(),window.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}r(i,"setState");function y(){return new Date().getTime()}r(y,"uniqueId");function d(w,x,I){b=0;const R=Object.assign({},{_id:y()},w);history.pushState(R,x,I),i(R)}r(d,"pushState");function v(w,x,I){const R=Object.assign({},{_id:S()._id},w);history.replaceState(R,x,I),i(R)}r(v,"replaceState");function k(){const w=l[m()-1];if(w)return w.url}r(k,"getBackURL");function D(){const w=l[m()+1];if(w)return w.url}r(D,"getForwardURL"),j=g(),window.addEventListener("popstate",r(function(x){const I=x.state;if(!I||!I._id)return;I._id<(S()._id||NaN)?b--:b++,i(I)},"onPopstate"),!0),window.addEventListener("hashchange",r(function(){if(u()>l.length){const x={_id:y()};history.replaceState(x,"",location.href),i(x)}},"onHashchange"),!0)},61419:(L,A,h)=>{var l=h(93113),b=h(48219),j=h(11427);(0,j.on)("tab-container-changed",".js-branches-tags-tabs",async function(S){const u=S.detail.relatedTarget,g=S.currentTarget;if(!g)return;let m,i;for(const d of g.querySelectorAll("[data-controls-ref-menu-id]")){if(!(d instanceof l.Z||d instanceof b.Z))return;const v=d.getAttribute("data-controls-ref-menu-id"),k=u.id===v;d.hidden=!k,k?i=d:m||(m=d.input?d.input.value:"")}const y=i&&i.input;y&&(i&&m!==void 0&&(y.value=m),y.focus())}),(0,j.on)("click",".js-onboarding-list-all",function(S){S.preventDefault();const u=document.querySelectorAll(".js-task-list-hide-on-breadcrumb"),g=document.querySelectorAll(".js-task-list-show-on-breadcrumb");for(const m of u)m.hidden=!0;for(const m of g)m.hidden=!1})},93770:(L,A,h)=>{var l=h(93673),b=Object.defineProperty,j=Object.getOwnPropertyDescriptor,S=r((g,m,i,y)=>{for(var d=y>1?void 0:y?j(m,i):m,v=g.length-1,k;v>=0;v--)(k=g[v])&&(d=(y?k(m,i,d):k(d))||d);return y&&d&&b(m,i,d),d},"__decorateClass");let u=r(class extends HTMLElement{connectedCallback(){this.submitButton.disabled=!0,this.toggleSpecificOptions()}enableForm(){this.submitButton.disabled=!1}toggleSpecificOptions(){this.selectRadio.checked?this.specificOptions.hidden=!1:this.specificOptions.hidden=!0}},"ActionsPolicyFormElement");S([l.fA],u.prototype,"specificOptions",2),S([l.fA],u.prototype,"submitButton",2),S([l.fA],u.prototype,"selectRadio",2),u=S([l.Ih],u)},21349:(L,A,h)=>{var l=h(93673),b=h(3238),j=Object.defineProperty,S=Object.getOwnPropertyDescriptor,u=r((d,v,k,D)=>{for(var w=D>1?void 0:D?S(v,k):v,x=d.length-1,I;x>=0;x--)(I=d[x])&&(w=(D?I(v,k,w):I(w))||w);return D&&w&&j(v,k,w),w},"__decorateClass");const g=document.querySelector("input[name='min_runner_count']"),m=document.querySelector("input[name='min_runner_count']");let i=r(class extends HTMLElement{disableSubmitButton(){const d=document.querySelector(".js-submit-premium-runner-button");d.disabled=!0}enableSubmitButton(){const d=document.querySelector(".js-submit-premium-runner-button");d.disabled=!1}minGreaterThanMax(){return+this.minInput.value>+this.maxInput.value}validateMin(){if(this.resetMinState(),!this.minInput.value)return;const d=+this.minInput.value,v=parseInt(m.max),k=parseInt(m.min);if(this.minGreaterThanMax()||(this.maxGreaterThanMinErrorMessage.hidden=!0,this.maxTooLowErrorMessage.hidden===!0&&this.maxTooHighErrorMessage.hidden===!0&&(this.maxGroup.classList.remove("errored"),this.enableSubmitButton())),this.minGreaterThanMax()){this.minGroup.classList.add("errored"),this.minGreaterThanMaxErrorMessage.hidden=!1,(0,b.N)(this.minNote),this.disableSubmitButton();return}if(d<k){this.minGroup.classList.add("errored"),this.minNegativeErrorMessage.hidden=!1,(0,b.N)(this.minNote),this.disableSubmitButton();return}if(d>v){this.minGroup.classList.add("errored"),this.minTooHighErrorMessage.hidden=!1,(0,b.N)(this.minNote),this.disableSubmitButton();return}}validateMax(){if(this.resetMaxState(),!this.maxInput.value)return;const d=+this.maxInput.value,v=parseInt(g.max),k=parseInt(g.min);if(this.minGreaterThanMax()||(this.minGreaterThanMaxErrorMessage.hidden=!0,this.minNegativeErrorMessage.hidden===!0&&this.minTooHighErrorMessage.hidden===!0&&(this.minGroup.classList.remove("errored"),this.enableSubmitButton())),this.minGreaterThanMax()){this.maxGroup.classList.add("errored"),this.maxGreaterThanMinErrorMessage.hidden=!1,(0,b.N)(this.maxNote),this.disableSubmitButton();return}if(d<k){this.maxGroup.classList.add("errored"),this.maxTooLowErrorMessage.hidden=!1,(0,b.N)(this.maxNote),this.disableSubmitButton();return}if(d>v){this.maxGroup.classList.add("errored"),this.maxTooHighErrorMessage.hidden=!1,(0,b.N)(this.maxNote),this.disableSubmitButton();return}}resetMinState(){this.minGreaterThanMaxErrorMessage.hidden=!0,this.minNegativeErrorMessage.hidden=!0,this.minTooHighErrorMessage.hidden=!0,this.minGroup.classList.remove("errored"),this.enableSubmitButton()}resetMaxState(){this.maxGreaterThanMinErrorMessage.hidden=!0,this.maxTooHighErrorMessage.hidden=!0,this.maxTooLowErrorMessage.hidden=!0,this.maxGroup.classList.remove("errored"),this.enableSubmitButton()}},"RunnerScalingElement");u([l.fA],i.prototype,"minInput",2),u([l.fA],i.prototype,"minGroup",2),u([l.fA],i.prototype,"minGreaterThanMaxErrorMessage",2),u([l.fA],i.prototype,"minNegativeErrorMessage",2),u([l.fA],i.prototype,"minTooHighErrorMessage",2),u([l.fA],i.prototype,"minNote",2),u([l.fA],i.prototype,"maxInput",2),u([l.fA],i.prototype,"maxGroup",2),u([l.fA],i.prototype,"maxGreaterThanMinErrorMessage",2),u([l.fA],i.prototype,"maxTooLowErrorMessage",2),u([l.fA],i.prototype,"maxTooHighErrorMessage",2),u([l.fA],i.prototype,"maxNote",2),i=u([l.Ih],i);let y=r(class extends HTMLElement{toggleRequiredInput(){this.customSelect.checked?this.uriInput.required=!0:this.uriInput.required=!1}},"RunnerImageElement");u([l.fA],y.prototype,"customSelect",2),u([l.fA],y.prototype,"uriInput",2),y=u([l.Ih],y)},46660:(L,A,h)=>{var l=h(11427);(0,l.on)("change",".js-profile-editable-pronouns-select",function(){const b=document.querySelector(".js-profile-editable-pronouns-select"),j=document.querySelector(".js-profile-editable-pronouns-custom"),S=j.getAttribute("data-initial-value");b.value==="Custom"?([...b.options].find(u=>u.value===S)?j.value="":j.value=S,j.hidden=!1,j.focus()):(j.value=b.value,j.hidden=!0)})},99247:(L,A,h)=>{var l=h(36805),b=h(11427);const j="SELECTED";(0,b.on)("details-menu-selected",".js-runner-group-component-visibility-menu",function(u){const g=u.detail.relatedTarget,m=g.closest(".js-runner-group-form"),i=g.getAttribute("value");m.querySelector(".js-runner-group-targets-selection").hidden=i!==j,m.querySelector(".js-runner-group-targets-count").hidden=i!==j},{capture:!0}),(0,b.on)("details-menu-selected",".js-runner-group-component-workflow-menu",function(u){const g=u.detail.relatedTarget,m=g.closest(".js-runner-group-form"),i=g.getAttribute("value");m.querySelector(".js-runner-group-workflow-selection").hidden=i!==j,m.querySelector(".js-runner-group-workflow-count").hidden=i!==j},{capture:!0}),(0,b.on)("details-dialog-close",".dialog-visibility",function(u){const g=u.target.closest("selected-item-list");if(!!g){for(const m of g.items)m.checked=m.defaultChecked;g.updateCount()}}),(0,b.on)("click",".js-btn-select-items.visibility-targets",function(u){const g=u.target.closest("details-dialog"),m=u.target.closest("selected-item-list");if((0,l.T)(g))for(const y of m.items)y.defaultChecked=y.checked;g.toggle(!1),m.querySelector("selected-item-count").updateCount(Number(m.selectedCount.textContent))}),(0,b.on)("click",".js-btn-select-items.workflow-refs",function(u){const g=u.target.closest("details-dialog"),m=u.target.closest("selected-item-list"),i=g.querySelector(".js-runner-group-workflow-selection textarea");i.defaultValue=i.value,g.toggle(!1);const y=new Set(i.value.match(/[^,\s]+/g)).size;m.querySelector("selected-item-count").updateCount(y)});function S(u){function g(){const m=u.value===u.defaultValue,i=u.closest("form").querySelector(".js-btn-select-items.workflow-refs");m?i==null||i.setAttribute("disabled","disabled"):i==null||i.removeAttribute("disabled"),u.setCustomValidity(m?"unchanged":"")}r(g,"customValidity"),u.hasAttribute("data-uninitialized")&&(u.addEventListener("change",g),u.addEventListener("input",g),u.removeAttribute("data-uninitialized"))}r(S,"installTextAreaChangeListeners"),(0,b.on)("toggle",".details-dialog-workflow",function(u){const g=u.currentTarget,m=g.querySelector(".js-runner-group-workflow-selection textarea");g.open?S(m):m.value=m.defaultValue},{capture:!0})},73650:(L,A,h)=>{h.d(A,{dY:()=>i,iU:()=>m,oq:()=>g});const l=new WeakMap;function b(y){const d=l.get(y);!d||(d.timer!=null&&clearTimeout(d.timer),d.timer=window.setTimeout(()=>{d.timer!=null&&(d.timer=null),d.inputed=!1,d.listener.call(null,y)},d.wait))}r(b,"schedule");function j(y){const d=y.currentTarget,v=l.get(d);!v||(v.keypressed=!0,v.timer!=null&&clearTimeout(v.timer))}r(j,"onKeydownInput");function S(y){const d=y.currentTarget,v=l.get(d);!v||(v.keypressed=!1,v.inputed&&b(d))}r(S,"onKeyupInput");function u(y){const d=y.currentTarget,v=l.get(d);!v||(v.inputed=!0,v.keypressed||b(d))}r(u,"onInputInput");function g(y,d,v={wait:null}){l.set(y,{keypressed:!1,inputed:!1,timer:void 0,listener:d,wait:v.wait!=null?v.wait:100}),y.addEventListener("keydown",j),y.addEventListener("keyup",S),y.addEventListener("input",u)}r(g,"addThrottledInputEventListener");function m(y,d){y.removeEventListener("keydown",j),y.removeEventListener("keyup",S),y.removeEventListener("input",u);const v=l.get(y);v&&(v.timer!=null&&v.listener===d&&clearTimeout(v.timer),l.delete(y))}r(m,"removeThrottledInputEventListener");function i(y){const d=l.get(y);d&&d.listener.call(null,y)}r(i,"dispatchThrottledInputEvent")},96143:(L,A,h)=>{var l=h(93673),b=Object.defineProperty,j=Object.getOwnPropertyDescriptor,S=r((e,t,o,n)=>{for(var s=n>1?void 0:n?j(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&b(t,o,s),s},"__decorateClass");let u=r(class extends HTMLElement{togglePopover(){this.popover.hidden=!this.popover.hidden}},"ActionsPolicyPopoverElement");S([l.fA],u.prototype,"popover",2),u=S([l.Ih],u);var g=h(93770),m=h(68842),i=h(11427);(0,i.on)("click",".js-actions-runner-platform-radio",function(e){const t=e.target,o=t.closest(".js-actions-runner-instructions"),n=o.querySelector(".js-actions-runner-architecture-menu"),s=t.getAttribute("data-download-os"),c=n.getAttribute("data-default-architecture");for(const a of n.querySelectorAll("[data-download-os]")){const f=a.getAttribute("data-download-os");a.hidden=f!==s,f===s&&a.getAttribute("data-download-architecture")===c&&a.click()}o.querySelector(".js-actions-runner-windows-instructions").hidden=s!=="win",o.querySelector(".js-actions-runner-unix-instructions").hidden=s==="win",y("os",s)},{capture:!0}),(0,i.on)("details-menu-selected",".js-actions-runner-architecture-menu",function(e){const t=e.detail.relatedTarget,o=t.closest(".js-actions-runner-instructions"),n=t.getAttribute("data-download-url"),s=t.getAttribute("data-download-filename"),c=t.getAttribute("data-download-token"),a=t.getAttribute("data-download-hash");for(const p of o.querySelectorAll(".js-action-runner-url"))p.textContent=n;for(const p of o.querySelectorAll(".js-action-runner-filename"))p.textContent=s;for(const p of o.querySelectorAll(".js-action-runner-token"))p.textContent=c;for(const p of o.querySelectorAll(".js-action-runner-hash"))p.textContent=a;const f=t.getAttribute("data-download-architecture");y("arch",f)},{capture:!0});function y(e,t){const o=new URLSearchParams(window.location.search);o.set(e,t);const n=new URL(window.location.href,window.location.origin);n.search=o.toString(),(0,m.lO)((0,m.y0)(),"",n.toString())}r(y,"updateUrlParams");var d=h(16393),v=h(2998);async function k(e){const t=document.querySelector(".js-ghas-entity-list-container");if(t==null)return;const o=t.querySelector("[data-show-on-error]"),n=t.querySelector("[data-loading]"),s=t.querySelector("[data-content-container]");if(s==null){D(o,n,s);return}let c=t.getAttribute("data-src");if(c==null){D(o,n,s);return}if(e!==void 0){const f=new URL(c,window.origin);f.pathname=f.pathname.replace(/\d+$/,e.toString());const p=f.toString();if(c===p)return;c=p;const q=t.querySelector(".js-advanced-security-entities-pagination");q&&(q.hidden=!0);const _=t.querySelector("[data-pager-loading]");_&&_.removeAttribute("hidden")}else if(s.children.length>0)return;let a;try{a=await(0,d.a)(document,c)}catch{D(o,n,s);return}if(!a){D(o,n,s);return}n&&(n.hidden=!0),s.innerHTML="",s.appendChild(a)}r(k,"retrieveAdvancedSecurityEntities");function D(e,t,o){e&&(e.hidden=!1),t&&(t.hidden=!0),o&&(o.innerHTML="")}r(D,"handleErrorState"),(async()=>(await v.x,k()))(),document.addEventListener("pjax:end",function(){k()}),window.addEventListener("popstate",function(e){e.state===null&&k(1)}),window.addEventListener("statechange",function(){const e=parseInt(new URLSearchParams(document.location.search).get("advanced_security_entities_page")||"");isNaN(e)||k(e)}),(0,i.on)("click",".js-advanced-security-entities-pagination a",function(e){if(e==null||e.target==null)return;const t=e.target.href,o=new URL(t,window.origin),n=new URLSearchParams(document.location.search);for(const[s,c]of n)o.searchParams.has(s)||o.searchParams.append(s,c);(0,m.qA)(null,"",o.toString()),e.preventDefault()});var w=h(32885),x=Object.defineProperty,I=Object.getOwnPropertyDescriptor,R=r((e,t,o,n)=>{for(var s=n>1?void 0:n?I(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&x(t,o,s),s},"appearance_form_element_decorateClass");let ne=r(class extends HTMLElement{modeSelectChange(e){const o=e.currentTarget.value,n=this.activatePanel(o);this.activateForm(n)}activatePanel(e){let t;for(const o of this.modePanels){const n=this.modePanels.length>1?o.getAttribute("data-mode-panel")!==e:!1;if(o.hidden=n,!n){const s=o.querySelector("form");s&&(t=s)}}return t}activateForm(e){const t=e.querySelectorAll('input[type="radio"]:checked');if(t.length===0){const o=(0,w.I3)(),n=(0,w.yn)(o),s=e.querySelector(`input[value=${n}]`);s&&(s.checked=!0,this.changeTheme(s))}else for(const o of t)this.changeTheme(o);e.dispatchEvent(new Event("submit"))}themeClicked(e){const t=e.currentTarget;this.changeTheme(t)}changeTheme(e){this.statusReset();const t=e.value,o=e.getAttribute("data-type"),n=e.getAttribute("data-mode");t&&o&&n&&((0,w.h5)(n),(0,w.on)(t,o))}async saveTheme(e){e.preventDefault(),this.loading();const t=e.currentTarget,o=new FormData(t);(await fetch(t.action,{method:t.method,body:o,headers:{"X-Requested-With":"XMLHttpRequest"}})).status===200?this.saved():this.errored()}statusReset(){this.saveMessage.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed")}loading(){this.statusReset(),this.saveMessage.classList.add("status-indicator-loading")}saved(){this.statusReset(),this.saveMessage.classList.add("status-indicator-success")}errored(){this.statusReset(),this.saveMessage.classList.add("status-indicator-failed")}},"AppearanceFormElement");R([l.fA],ne.prototype,"saveMessage",2),R([l.GO],ne.prototype,"modePanels",2),ne=R([l.Ih],ne);var gt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,se=r((e,t,o,n)=>{for(var s=n>1?void 0:n?yt(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&gt(t,o,s),s},"appearance_preview_element_decorateClass");let V=r(class extends HTMLElement{connectedCallback(){this.checkActive(),window.matchMedia(`(prefers-color-scheme: ${this.getAttribute("data-mode")})`).addEventListener("change",()=>this.checkActive())}themePreview(e){const t=e.currentTarget;if(!t)return;const o=t.getAttribute("data-theme");for(const n of this.themePreviews)n.hidden=n.getAttribute("data-theme")!==o}previewReset(){const t=this.boxElement.querySelector("input:checked").value;for(const o of this.themePreviews)o.hidden=o.getAttribute("data-theme")!==t}checkActive(){this.getAttribute("data-mode")===(0,w.I3)()?(this.boxElement.classList.add("Box--blue"),this.activeLabel.hidden=!1):(this.boxElement.classList.remove("Box--blue"),this.activeLabel.hidden=!0)}},"AppearancePreviewElement");se([l.fA],V.prototype,"boxElement",2),se([l.fA],V.prototype,"activeLabel",2),se([l.GO],V.prototype,"themePreviews",2),V=se([l.Ih],V);var Le=h(56153),K=h(66123),E=h(66789),M=h(65889);(0,E.AC)(".js-app-bgcolor-form",async function(e,t){const o=e.querySelector(".js-app-bgcolor-save-notice");if(!o)return;let n;try{n=await t.html()}catch{o.classList.remove("visible")}n&&(o.classList.add("visible"),setTimeout(()=>o.classList.remove("visible"),1500))});function ue(e,t){const o=e.querySelector(".js-app-logo-with-bgcolor");o instanceof HTMLElement&&(o.style.backgroundColor=`#${t}`)}r(ue,"updateLogoBackgroundColor");function bt(e,t){t.checkValidity()&&(0,M.Bt)(e)}r(bt,"saveLogoBackgroundColor"),(0,K.q6)(".js-app-bgcolor-input",function(e){const t=e.target;if(!(t instanceof HTMLInputElement))return;const o=t.closest("form"),n=t.value.replace(/^#/,"");if(n.length<1){t.classList.remove("color-fg-danger"),ue(o,t.defaultValue);return}t.checkValidity()?(t.classList.remove("color-fg-danger"),ue(o,n),o.classList.contains("js-app-bgcolor-form")&&(0,Le.D)(()=>bt(o,t),400)()):(t.classList.add("color-fg-danger"),ue(o,t.defaultValue))});var P=h(30762);function vt(){const e=".js-integrations-install-repo-picked",t=document.querySelector(e);t?Ee(t):(0,P.N7)(e,o=>{Ee(o)})}r(vt,"removeSelectedRepositories");function jt(e){const t=".select-menu-text-filter remote-input",o=document.querySelector(t);o?xe(o,e):(0,P.N7)(t,n=>{xe(n,e)})}r(jt,"setTargetNameForRequest");function G(){return document.querySelectorAll(".js-selected-repository-field")}r(G,"selectedRepositories");function xe(e,t){const o=e.getAttribute("src"),[n]=o.split("?"),s=`${n}?&target_name=${encodeURIComponent(t)}`;e.setAttribute("src",s)}r(xe,"setTargetNameOnRemoteSrc");function St(){const e=document.querySelector(".js-integrations-install-form");if(e instanceof HTMLFormElement){const t=+(e.getAttribute("data-max-repos")||0);return t>0&&G().length>=t}}r(St,"isMaxRepositoriesSelected");function Ee(e){e.innerHTML="",document.querySelector(".js-min-repository-error").hidden=G().length>0,de(),J(),X()}r(Ee,"removeAllSelectedRepos");function X(){const e=document.querySelector("#repository-menu-list"),t=Array.from(G()).map(s=>s.value);let o=!1;for(const s of e.querySelectorAll("[role=menuitem]")){const c=t.includes(s.value);!o&&!c&&(o=!0),s.hidden=c}const n=e.querySelector(".js-no-repository-found");n instanceof HTMLElement&&(n.hidden=o)}r(X,"toggleRepoVisibilityFromResults");function J(){const e=document.querySelector(".js-select-repositories-radio");if(!e)return;const t=!e.checked||G().length>0;Ce("js-integrations-install-form-submit",t),Ce("js-integrations-install-form-cancel",!0)}r(J,"updateFormValidity");function Ce(e,t){const o=document.querySelector(`.${e}`);o&&o instanceof HTMLButtonElement&&o.disabled===t&&(o.disabled=!t)}r(Ce,"toggleEnable");function wt(){const e=document.querySelector(".js-select-repositories-radio"),t=document.querySelector(".js-integrations-install-repo-selection");!e||t.classList.toggle("has-removed-contents",!e.checked)}r(wt,"toggleRepoSelectionSection");function de(){const e=G().length,t=document.querySelector(".js-integration-total-repos");t.hidden=e===0,t.textContent=`Selected ${e} ${e===1?"repository":"repositories"}.`}r(de,"updateRepositoriesSelectedCopy"),(0,P.N7)(".js-apps-install-select-repositories-container remote-input",e=>{e.addEventListener("remote-input-success",X),e.addEventListener("remote-input-error",X)}),(0,i.on)("details-menu-selected",".js-apps-install-select-repositories-menu",function(e){const t=e.detail.relatedTarget,o=document.querySelector(".js-integrations-install-repo-picked"),n=t.querySelector("template").content.cloneNode(!0);o.prepend(n),document.querySelector(".js-min-repository-error").hidden=!0,document.querySelector(".js-max-repository-warning").hidden=!St(),de(),J(),X()},{capture:!0}),(0,i.on)("change",".js-integrations-install-form",J),(0,i.on)("change",".js-user-programmatic-access-form",J),(0,i.on)("click",".js-repository-picker-remove",function(e){e.currentTarget.closest(".js-repository-picker-result").remove(),document.querySelector(".js-min-repository-error").hidden=G().length>0,de(),J(),X()}),(0,i.on)("change",".js-installation-repositories-radio",wt),(0,i.on)("click",".js-integrations-install-form-cancel",function(){window.location.reload()});var Te=h(89390),Z=h(75914);async function qt(e){const t=e.currentTarget;e.preventDefault(),Ie(t)}r(qt,"submitAndUpdate");async function Ie(e){const t=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"text/fragment+html"}});if(t.status>=400){const o="An unknown error occurred.",n=document.querySelector("template.js-flash-template");n.after(new Te.R(n,{className:"flash-error",message:o}))}else{const o=e.closest("[data-replace-remote-form-target]"),n=(0,Z.r)(document,await t.text());o.replaceWith(n)}}r(Ie,"submitAndUpdateForm"),(0,i.on)("submit",".js-dependabot-selected-repos-remove-form",qt),(0,i.on)("auto-complete-change",".js-dependabot-selected-repos-add-auto-complete",function(e){const t=e.target;if(!t.value)return;const o=t.querySelector(".js-dependabot-selected-repos-add-input");o.value=t.value,t.value="";const n=t.closest("form");Ie(n)}),(0,K.w4)("keydown",".js-dependabot-selected-repos-add-search",function(e){e.key==="Enter"&&e.preventDefault()}),(0,P.N7)(".js-email-global-unsubscribe-form",function(e){e.querySelector(".js-email-global-unsubscribe-submit").disabled=!0}),(0,i.on)("change",".js-email-global-unsubscribe-form",function(e){const t=e.currentTarget,o=t.querySelector(".js-email-global-unsubscribe-submit"),n=t.querySelectorAll(".js-email-global-unsubscribe"),s=Array.from(n).some(c=>c.checked!==c.defaultChecked);o.disabled=!s}),(0,E.AC)(".js-email-unsubscribe-form",async function(e,t){await t.text();for(const o of document.querySelectorAll(".js-email-unsubscribe-message"))o instanceof HTMLElement&&(o.hidden=!o.hidden)});function Me(e,t,o){const n=e.split(t);return n[n.length-1]=o,n.join(t)}r(Me,"replaceEndWith");function Pe(e){const t=document.querySelector(".js-application-callback-urls");if(!t)return;const o=t.querySelectorAll(".js-application-callback-url");if(o.length!==0)for(const s of o)e?s.classList.add("required"):s.classList.remove("required")}r(Pe,"markCallbackUrlsRequired"),(0,i.on)("change","input.js-application-callback-url-field, input.js-hook-url-field",function({currentTarget:e}){let t=e.id;t=Me(t,"_","_destroy");const o=document.getElementById(t);o instanceof HTMLInputElement&&(e.value===""?o.value="true":o.value="false")}),(0,i.on)("click",".js-add-application-callback-url",function(e){e.preventDefault();const t=document.querySelector(".js-application-callback-urls");if(!t)return;const o=t.querySelectorAll(".js-application-callback-url"),n=o.length;if(n===0)return;const s=o[n-1],c=s.cloneNode(!0);if(!(c instanceof HTMLElement))return;let a=t.getAttribute("data-index");a===null&&(a="0");const f=(parseInt(a,10)+1).toString();t.setAttribute("data-index",f);const p=c.querySelector("label");if(!p)return;const q=p.getAttribute("for");p.setAttribute("for",q.replace(/\d+/,a));const _=c.querySelector("input");!_||(_.id=_.id.replace(/\d+/,a),_.name=_.name.replace(/\d+/,a),_.value="",s.insertAdjacentElement("afterend",c))}),(0,i.on)("click",".js-delete-application-callback-url",function(e){e.preventDefault();const o=e.currentTarget.closest(".js-application-callback-url");if(!o)return;const n=o.querySelector("input");if(!n)return;const s=document.querySelector(".js-application-callback-urls");if(!s)return;s.querySelectorAll(".js-application-callback-url").length>1?o.remove():n.value="";let a=n.id;a=Me(a,"_","_destroy");const f=document.getElementById(a);f instanceof HTMLInputElement&&(f.value="true")});function De(){return document.querySelector("input.js-edit-integration-setup-url")}r(De,"setupUrlField");function kt(){return De().closest(".form-group").querySelector(".js-setup-url-hint")}r(kt,"setupUrlHint");function Re(){return document.querySelector(".js-help-text-for-redirect-on-update")}r(Re,"helpTextForRedirectOnUpdate");function Oe(e){e&&(kt().textContent=e)}r(Oe,"updateSetupUrlHint"),(0,i.on)("change",".js-edit-integration-request-oauth-on-install",function(e){const t=e.target,o=De();if(t.checked){Pe(!0),o.disabled=!0,o.placeholder=o.getAttribute("data-hint-unavailable-when-install")||"";const n=o.getAttribute("data-hint-same-as-callback-url")||"";Oe(n);const s=Re();s.textContent=s.getAttribute("data-hint-redirect-on-update-callback-url")||""}else{Pe(!1),o.disabled=!1,o.placeholder="",o.value=o.getAttribute("data-setup-url")||"";const n=o.getAttribute("data-hint-setup-url")||"";Oe(n);const s=Re();s.textContent=s.getAttribute("data-hint-redirect-on-update-setup-url")||""}});function re(){const e=document.getElementById("js-update-integration-permissions");e&&e.removeAttribute("disabled")}r(re,"enableFormSubmission");function At(){const e=document.querySelectorAll('[id^=integration_permission_]:checked:not([data-permission="none"])');return Array.from(e,t=>t.getAttribute("data-resource"))}r(At,"selectedResources");function _t(e){return e?Array.from(document.querySelectorAll(`.js-integration-hook-event[data-resource~="${e}"]:checked`)):[]}r(_t,"checkedHookEventsForResource");function Lt(){return At().flatMap(e=>_t(e))}r(Lt,"checkedHookEventNodes");function xt(e){return!Lt().includes(e)}r(xt,"hookEventCheckboxCanBeHidden"),(0,i.on)("change",".js-integration-permissions-selector [id^=integration_permission_]",function({currentTarget:e}){const t=e.getAttribute("data-permission"),o=e.getAttribute("data-resource")||"",n=document.querySelectorAll(`.js-integration-hook-event[data-resource~="${o}"]`),s=document.querySelectorAll(`.js-dropdown-container[data-resource~="${o}"]`);if(re(),t!=="none"){const c=document.querySelectorAll(`.js-integration-hook-event-permission-error[data-resource~='${o}']`);for(const a of c)a.classList.add("d-none");for(const a of n)a.readOnly=!1;e.closest(".js-list-group-item").classList.remove("disabled");for(const a of s)a.classList.remove("d-none")}else{for(const c of n)xt(c)&&(c.readOnly=!0,c.checked=!1,c.closest(".js-dropdown-container").classList.add("anim-fade-in","d-none"));e.closest(".js-list-group-item").classList.add("disabled"),o==="single_file"&&Et(o,".js-single-files-path-list")}});function Et(e,t){document.querySelector(`.js-dropdown-container[data-resource~='${e}']`).classList.add("anim-fade-in","d-none"),document.querySelector(t).innerHTML=""}r(Et,"clearSubmittedFields");function Ct(e){const t=document.querySelector(".js-hook-url-field");if(!t)return;t.classList.toggle("required"),e?t.setAttribute("required","required"):t.removeAttribute("required");const o=t.closest("dl.form-group");!o||o.classList.toggle("required")}r(Ct,"toggleHookUrlRequired"),(0,i.on)("change",".js-hook-active-checkbox",function(e){const t=e.currentTarget;for(const o of document.querySelectorAll(".js-integration-hook-enabled"))o.hidden=!t.checked;Ct(t.checked)});function me(e=!1){const t=document.querySelector(".js-integration-permissions-selector [id=integration_permission_metadata_read]"),o=t.closest(".js-list-group-item");e&&(0,M.Se)(t,!0),o.querySelector(".js-mandatory-label").hidden=!e;for(const n of o.querySelectorAll("input"))n!==t&&(n.disabled=e)}r(me,"toggleMetadataSelectionMenu");function Tt(){let e=!0;const t=document.querySelectorAll(".js-integration-permissions-selector [id^=integration_permission_][data-resource-parent=repository]:checked");for(const o of t){const n=o.getAttribute("data-permission")||"none";if((o.getAttribute("data-resource")||"")!=="metadata"&&n!=="none"){e=!1;break}}return e}r(Tt,"noRepoPermissionSelected"),(0,i.on)("change",".js-integration-permissions-selector [id^=integration_permission_][data-resource-parent^=repository]",function({currentTarget:e}){const t=e.getAttribute("data-permission");(e.getAttribute("data-resource")||"")!=="metadata"&&(t!=="none"?me(!0):Tt()&&me())}),(0,i.on)("change",".js-integration-permissions-selector [name^=integration]",re),(0,i.on)("click",".js-integration-permissions-selector .js-integration-hook-event",function(e){const t=e.currentTarget;t.readOnly&&(t.closest(".js-send-events").querySelector(".js-integration-hook-event-permission-error").classList.remove("d-none"),e.preventDefault())});function Be(){const e=document.querySelector(".js-single-files input"),t=document.querySelector(".js-single-files template"),o=document.querySelector(".js-single-files-path-list"),n=e.value;if(!n)return;const s=t.content.cloneNode(!0);s instanceof DocumentFragment&&(s.querySelector("input").value=n,s.querySelector(".js-single-files-path").textContent=n,e.value="",o.appendChild(s),o.closest(".Box").hidden=!1,re())}r(Be,"addPath"),(0,K.w4)("keydown",".js-single-files input",function(e){e.key==="Enter"&&(e.preventDefault(),Be())}),(0,i.on)("click",".js-single-files .js-path-add",Be),(0,i.on)("click",".js-single-files .js-close",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest("li"),o=t.parentElement;!o||(o.removeChild(t),o.querySelectorAll("li").length===0&&(o.closest(".Box").hidden=!0),re())});function It(e){const t=e.getAttribute("src");if(!t)return"";const o=document.createElement("a");return o.href=t,o.href}r(It,"getCheckTargetSrc");async function Mt(e){const o=e.target.form,n=o.querySelectorAll(".js-key-link-input"),s=new FormData;for(const _ of n)s.append(_.name,_.value);const c=o.querySelector(".js-key-link-check"),a=It(c),f=c.parentElement.querySelector(".js-key-link-check-csrf"),p=await fetch(a,{method:"POST",mode:"same-origin",body:s,headers:{"Scoped-CSRF-Token":f.value,"X-Requested-With":"XMLHttpRequest"}});if(!p.ok){c.hidden=!0;return}const q=await p.text();c.innerHTML=q,c.hidden=!1}r(Mt,"handleInput"),(0,K.q6)(".js-key-link-input",(0,Le.D)(Mt,300));function pe(e,t){for(const o of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))o.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}r(pe,"setIndicator"),(0,E.AC)(".js-setting-toggle",async function(e,t){const o=e.querySelector(".js-status-indicator");pe(o,"status-indicator-loading");try{await t.text(),pe(o,"status-indicator-success")}catch{pe(o,"status-indicator-failed")}}),(0,i.on)("change",".js-toggle-email-settings input",function(){const e=document.querySelector(".js-notification-emails"),t=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!t)}),(0,i.on)("change",".js-toggle-ci-failures-only-setting input",function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),t=document.querySelector(".js-ci-failures-only-settings input"),o=t.closest("label");o&&o.classList.toggle("color-fg-muted",!e),e||(t.checked=!1),t.disabled=!e}),(0,E.AC)(".js-revoke-access-form",async function(e,t){await t.html();const o=e.getAttribute("data-id"),n=e.getAttribute("data-type-name"),s=document.querySelector(`.js-revoke-item[data-type='${n}'][data-id='${o}']`);s.remove(),s.classList.contains("new-token")&&document.querySelector(".js-flash-new-token").remove()}),(0,i.on)("click",".js-delete-oauth-application-image",function(){const e=document.querySelector(".js-delete-oauth-application-image-form");(0,M.Bt)(e)}),(0,i.on)("click",".js-new-callback",function(e){e.preventDefault();const t=e.currentTarget,o=t.closest(".js-callback-urls"),s=o.querySelector(".js-callback-url").cloneNode(!0);if(!(s instanceof HTMLElement))return;s.classList.remove("is-default-callback");const c=s.querySelector("input");c.value="",o.classList.add("has-many"),t.parentNode.insertBefore(s,t)}),(0,i.on)("click",".js-delete-callback",function(e){e.preventDefault();const t=e.currentTarget;t.closest(".js-callback-url").remove();const n=t.closest(".js-callback-urls");n.querySelectorAll(".js-callback-url").length<=1&&n.classList.remove("has-many")}),(0,i.on)("click",".js-oauth-application-whitelist .js-deny-this-request",function(e){const t=e.currentTarget,o=t.nextElementSibling;o.value="denied",(0,M.Bt)(t.closest(".js-org-application-access-form"))});async function fe(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let o;try{o=await(0,d.a)(document,t),e.innerHTML="",e.append(o)}catch{window.location.reload()}}r(fe,"fetchKeysList"),(0,i.on)("click",".js-generate-integration-key",function(){const e=document.querySelector(".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout(function(){const t=document.querySelector(".js-integration-keys-container");t&&fe(t)},1e3))}),(0,E.AC)(".js-remove-integration-key",async function(e,t){try{await t.text()}catch(s){if(!s.response)throw s;e.closest("details").removeAttribute("open");const c=document.querySelector(".js-integration-key-management-wrapper"),f=c.querySelector(".js-error-container").querySelector(".js-error-message");switch(s.response.status){case 500:f.textContent="Oops, something went wrong.";break;case 404:f.textContent="Oops, that key could not be found.";break;default:f.textContent=s.response.json.message}c.classList.add("error");return}const o=e.getAttribute("data-key-id"),n=document.getElementById(o);if(n){const s=n.closest(".js-integration-keys-container");s&&fe(s)}}),(0,i.on)("click",".js-error-dismiss",function(){const e=document.querySelector(".js-integration-keys-container");e&&fe(e)}),(0,i.on)("change",".js-checkbox-scope",function(e){const t=e.currentTarget;t.checked?ge(t,"self"):he(t,"self"),Pt(t)});function Pt(e){const o=e.closest(".js-check-scope-container").querySelectorAll(".js-checkbox-scope");for(const n of o)n!==e&&(e.checked?ge(n,e.value):he(n,e.value))}r(Pt,"toggleScopeSubsets"),(0,i.on)("change","[data-check-related-scopes]",function(e){const t=e.currentTarget,o=t.getAttribute("data-check-related-scopes").split(" ");for(const n of o){const s=document.querySelectorAll(`[data-scope-for="${n}"] .js-checkbox-scope`);for(const c of s)t.checked?ge(c,t.value):he(c,t.value)}});async function Fe(e){const t=e.currentTarget,o=".js-checkbox-scope:checked:disabled",n=t.querySelectorAll(o);for(const s of n)s.disabled=!1}r(Fe,"enabledCheckedAndDisabledScopes"),(0,i.on)("submit","#new_oauth_access",Fe),(0,i.on)("submit",".js-edit-oauth-access",Fe);function he(e,t){let o=He(e);o=Dt(o,t),e.setAttribute("data-selected-by",o.join(" ")),Ne(e)}r(he,"removeFromSelectedBy");function ge(e,t){const o=He(e);o.push(t),e.setAttribute("data-selected-by",o.join(" ")),Ne(e)}r(ge,"addToSelectedBy");function Ne(e){const t=e.getAttribute("data-selected-by");e.checked=t!=="",e.disabled=e.checked&&t!=="self"}r(Ne,"updateDependencyGraph");function He(e){return e.getAttribute("data-selected-by")?e.getAttribute("data-selected-by").split(" "):[]}r(He,"fetchSelectedByArray");function Dt(e,t){const o=e.indexOf(t);return o>-1&&e.splice(o,1),e}r(Dt,"removeItemFromArray");const Ue="VISIBILITY_SELECTED_REPOSITORIES";function ye(){const e=document.querySelector(".js-org-secrets-selection"),o=e.querySelector(".js-secrets-visibility-menu input:checked").getAttribute("value"),n=e.querySelector(".js-repository-items-dialog");n.hidden=o!==Ue;const s=e.querySelector(".js-repository-selection-component"),c=Array.from(s.querySelectorAll(".js-repository-item-checkbox")).filter(f=>f.checked).length,a=n.querySelector(".js-selected-repos-label");a.hidden=o!==Ue,a.querySelector(".js-selected-repositories-count").textContent=c.toString(),a.querySelector(".js-multiple-repositories-text").hidden=c===1,a.querySelector(".js-single-repository-text").hidden=c!==1}r(ye,"updateSelectedRepositoryCount");function be(e){const o=e.target.closest(".js-encrypt-submit").querySelector(".js-btn-save-secret");!o||(o.disabled=!1)}r(be,"enableSaveSecretButton"),(0,i.on)("click",".js-new-secret-value-button",function(e){const o=e.currentTarget.closest(".js-secret-value-form-group");o.querySelector(".js-new-secret-value-input").hidden=!1,o.querySelector(".js-new-secret-value-prompt").hidden=!0,be(e)}),(0,i.on)("reset",".js-org-secrets-selection .js-repository-selection-component",ye),(0,i.on)("details-menu-selected",".js-secrets-visibility-menu",be,{capture:!0}),(0,i.on)("details-menu-selected",".js-secrets-visibility-menu",ye,{capture:!0});var Ge=(e=>(e.Authorized=".js-cap-authorized",e.Checking=".js-cap-checking",e.RetryChecking=".js-cap-retry-checking",e.Unauthorized=".js-cap-unauthorized",e.Forbidden=".js-cap-forbidden",e))(Ge||{});function Rt(){$(".js-cap-authorized")}r(Rt,"displayAuthorizedSection");async function $e(e){const o=$(".js-cap-checking").querySelector("[data-verify-path]").getAttribute("data-verify-path"),n=await fetch(o.replace("{name}",e),{headers:{Accept:"application/json"}});if(n.status===403){$(".js-cap-forbidden");return}if(!n.ok){$(".js-cap-retry-checking");return}const{authorized:s,path:c}=await n.json();if(s)$(".js-cap-authorized");else{const a=document.querySelector("#js-cap-authorization-link");a.href=c,$(".js-cap-unauthorized")}}r($e,"verifyAuthorization");function $(e){for(const o of Object.values(Ge)){const n=document.querySelector(o);n.hidden=!0}const t=document.querySelector(e);return t.hidden=!1,t}r($,"displayAuthorizationSectionFor"),(0,i.on)("click","#js-retry-cap-check",()=>{const e=document.querySelector(".js-target-container .js-repository-owner-choice:checked");$e(e.value)});var Ot=(e=>(e.User="User",e.Organization="Organization",e))(Ot||{}),Bt=(e=>(e.None="none",e.All="all",e.Selected="selected",e))(Bt||{});function B(e,t){const o=document.querySelector(e);o&&(o.textContent=t)}r(B,"updateElText");function We(e){return document.querySelectorAll(e).length}r(We,"elCount");function Ft(){const e=document.querySelector("#user_programmatic_access_name");B('#token-summary [data-token-summary="name"]',e.value)}r(Ft,"updateName");function H(e){const t=We(`[data-${e}-permission] .js-permissions-selector [id^=integration_permission_]:checked:not([data-permission="none"])`);B(`#token-summary [data-token-summary="${e}-permission-count"]`,String(t))}r(H,"updatePermissionCount");function ze(){const e=document.querySelector(".js-installation-repositories-radio:checked"),t=e?e.value:"none";if(t==="selected"){const o=We(".js-selected-repository-field");B('#token-summary [data-token-summary="repository-count"]',String(o))}else B('#token-summary [data-token-summary="repository-count"]',t)}r(ze,"updateRepositoryCount");function Ve(){const e=document.querySelector(".js-default-token-expiration-select").value;if(e==="none")B('#token-summary [data-token-summary="expiration"]',"never.");else if(e==="custom"){const t=document.querySelector("#user_programmatic_access_custom_expires_at").value,o=t?Ke(new Date(`${t}T00:00:00`)):"an unselected custom date";B('#token-summary [data-token-summary="expiration"]',`on ${o}.`)}else{const t=Nt(e);B('#token-summary [data-token-summary="expiration"]',`on ${t}.`)}}r(Ve,"updateExpiration");function Ke(e){return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}).format(e).replace(/,(?=\s\d{4})/,"")}r(Ke,"formatDateString");function Nt(e){const t=new Date;return t.setDate(t.getDate()+Number(e)),Ke(t)}r(Nt,"calculateDate");function Xe(e="User"){let t=".js-target-type-user-section",o=".js-target-type-org-section";e==="Organization"&&(t=".js-target-type-org-section",o=".js-target-type-user-section");const n=document.querySelectorAll(t),s=document.querySelectorAll(o);for(const c of s)c.hidden=!0;for(const c of n)c.hidden=!1}r(Xe,"toggleTargetTypeSectionsFor");function Ht(){const e=document.querySelectorAll('[id^=integration_permission_][data-permission="none"]');for(const t of e)t.checked=!0;me(),Je()}r(Ht,"resetPermissions");function Ut(){const e=document.querySelector(".js-installation-repositories-radio:checked").value,t=document.querySelector(".js-integration-permissions-selector section[data-repository-permission]");e==="none"?(t.hidden=!0,B('#token-summary [data-token-summary="repository-permission-count"]',String(0))):(t.hidden=!1,H("repository"))}r(Ut,"toggleRepoPermissionVisibility");function Je(){H("repository"),H("user"),H("organization"),ze();const e=document.querySelector("#targeting_organizations"),t=(e==null?void 0:e.value)==="true"?"Organization":"User";Xe(t)}r(Je,"setInitialValues");function Gt(e,t){e==="User"?Rt():$e(t)}r(Gt,"checkCAPAuthorizationFor");function $t(e){vt();const t=e.currentTarget,o=t.classList.contains("js-repository-owner-is-org")?"Organization":"User";Xe(o),Gt(o,t.value);const n=document.querySelector("#target_name");n.value=t.value,jt(n.value)}r($t,"updateTargetDependencies"),(0,P.N7)(".js-user-programmatic-access-form .js-integrations-install-repo-selection",e=>{new MutationObserver(ze).observe(e,{childList:!0,subtree:!0})}),(0,P.N7)(".js-user-programmatic-access-form",Je),(0,i.on)("change",".js-user-programmatic-access-form [data-repository-permission] .js-permissions-selector [id^=integration_permission_]",()=>H("repository")),(0,i.on)("change",".js-user-programmatic-access-form [data-user-permission] .js-permissions-selector [id^=integration_permission_]",()=>H("user")),(0,i.on)("change",".js-user-programmatic-access-form [data-organization-permission] .js-permissions-selector [id^=integration_permission_]",()=>H("organization")),(0,i.on)("change",".js-user-programmatic-access-form .js-installation-repositories-radio",()=>{Ht(),Ut()}),(0,i.on)("change",".js-user-programmatic-access-form #user_programmatic_access_name",Ft),(0,i.on)("change",".js-user-programmatic-access-form .js-default-token-expiration-select",Ve),(0,i.on)("change",".js-user-programmatic-access-form #user_programmatic_access_custom_expires_at",Ve),(0,i.on)("change",".js-target-container .js-repository-owner-choice",$t);function Wt(e){const t=e.target,o=t.closest(".js-policy-repos-container").querySelector(".js-policy-repos-form"),n=o.getAttribute("data-form-field-name"),s=zt(t,n),c=o.querySelector(`[value='${s.value}']`);c?c.replaceWith(s):o.append(s)}r(Wt,"selectRepoItem");function zt(e,t){const o=document.createElement("input");return o.type="hidden",o.name=e.checked?"enable[]":"disable[]",o.value=e.value,t&&o.setAttribute("data-form-field-name",t),o}r(zt,"createRepoInput"),(0,i.on)("change",".js-policy-repos-container .js-repository-item-checkbox",Wt);var Eo=h(46660);function Ze(e,t){const o=t.querySelector(".js-repo-access-error");o.textContent=e,o.classList.remove("d-none")}r(Ze,"showError");function Ye(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}r(Ye,"hideErrors");function Vt(e){const t=e.querySelector(".js-add-new-collab");t&&(t.disabled=!0)}r(Vt,"resetInviteForm");function Kt(e){const t=document.querySelector(".js-repo-access-team-select");if(t){let o=0;for(const n of t.querySelectorAll(".js-repo-access-team-select-option"))e===n.getAttribute("data-team-id")&&(n.hidden=!0),n.hidden||o++;o===0&&t.closest(".js-repo-access-group").classList.add("no-form")}}r(Kt,"handleTeamAdd");function Xt(e){const t=document.querySelector(".js-repo-access-team-select");if(t){const o=t.querySelector(`[data-team-id='${e}']`);o instanceof HTMLElement&&(o.hidden=!1),t.closest(".js-repo-access-group").classList.remove("no-form")}}r(Xt,"handleTeamRemove");async function Jt(e,t){Ye();const n=(await t.json()).json;let s;const c=e.closest(".js-repo-access-container"),a=c.querySelector(".js-repo-access-group");a.id!=="collaborators"&&(s=a.querySelector(".js-repo-access-list"));const f=e.querySelector(".js-add-repo-access-field");if(f instanceof HTMLInputElement){const p=f.value;f.value="",a.id==="teams"&&Kt(p)}if(n.error){Ze(n.error,c);return}if(Vt(e),s){s.insertAdjacentHTML("beforeend",n.html);const p=s.querySelectorAll(".js-repo-access-entry");p[p.length-1].querySelector("a").focus()}if(n.seats||n.seats===0){const p=n.seats===1?"seat":"seats",q=document.getElementById("available-seats");q&&(q.innerHTML=`${n.seats} ${p}`)}}r(Jt,"handleInviteResponse"),(0,i.on)("details-menu-selected",".js-repo-access-team-select-menu",function(e){const t=e.detail.relatedTarget,o=t.getAttribute("data-team-id")||"",n=t.closest(".js-repo-access-group").querySelector(".js-add-repo-access-field");n.value=o,(0,M.Bt)(n.form)},{capture:!0}),(0,E.AC)(".js-add-repo-access-form",Jt),(0,E.AC)(".js-remove-repo-access-form",async function(e,t){if(e.hasAttribute("data-skip-remote"))return;try{await t.text()}catch{Ze(e.getAttribute("data-error-message")||"",e.closest(".js-repo-access-group"));return}Ye();const o=e.closest(".js-repo-access-entry");e.closest(".js-repo-access-group").id==="teams"&&Xt(o.getAttribute("data-team-id")||""),o.remove()});function ve(e){for(const t of e)t.hidden=!t.hidden}r(ve,"toggleHidden");function je(e){for(const t of e)t.disabled=!1,t.closest(".js-role-checkbox").classList.remove("color-fg-muted")}r(je,"reenableAllRoles");function ie(e,t){e instanceof HTMLElement&&(e.hidden=t)}r(ie,"toggleRoleBadge"),(0,i.on)("combobox-commit",".js-repo-add-access-search",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".js-repo-add-access-search"),o=e.target.closest(".js-autocomplete-item"),n=t.querySelector(".js-selected-member-id");n.textContent=e.target.getAttribute("data-autocomplete-label")||"selection";const s=t.querySelector(".js-selected-member-badge"),c=o.querySelector(".js-selection-badge");s.innerHTML=c.innerHTML,ve(Array.from(t.querySelectorAll(".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")));const a=t.querySelector(".js-base-role-badge");ie(a,!0);const f=o.getAttribute("data-type"),p=o.hasAttribute("data-admin"),q=p?"[data-disable-org-admin]":"[data-disable-org-role]",_=t.querySelectorAll(q),ht=t.querySelectorAll('input[name="role"]');if(ht.length>0){if(je(ht),f==="org-member"){ie(a,!1);for(const le of _)le.disabled=!0,le.closest(".js-role-checkbox").classList.add("color-fg-muted")}if(p)t.querySelector(".js-role-admin").checked=!0;else if(a&&f==="org-member"){const le=a.closest(".js-role-checkbox").querySelector('input[name="role"]');le.checked=!0}else(f==="outside-collab"||f==="team"||f==="org-member"||f==="email")&&(t.querySelector(".js-role-pull").checked=!0)}}),(0,i.on)("click",".js-cancel-selection",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".js-repo-add-access-search"),o=t.querySelector(".js-repo-add-access-search-input");o.value="";const n=t.querySelectorAll('input[name="role"]');je(n),ve(Array.from(t.querySelectorAll(".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")));const s=t.querySelector(".js-base-role-badge");ie(s,!0)}),(0,i.on)("details-dialog-close",".js-add-access-form",function({currentTarget:e}){const t=e.querySelector(".js-repo-add-access-search-input");t.value="";const o=t.querySelectorAll('input[name="role"]');je(o);const n=e.querySelector(".js-repo-add-access-search-selection"),s=e.querySelector(".js-repo-add-access-search-selected");if(s.hidden)return;ve([s,n]);const c=t.querySelector(".js-base-role-badge");ie(c,!0)});var Zt=h(73650);(0,i.on)("change",".js-repo-features-form input[type=checkbox]",function({currentTarget:e}){const o=e.closest(".js-repo-option").querySelector(".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")}),(0,E.AC)(".js-repo-features-form",async function(e,t){let o;try{o=await t.html()}catch{for(const s of e.querySelectorAll(".status-indicator-loading")){s.classList.remove("status-indicator-loading"),s.classList.add("status-indicator-failed");const a=s.closest(".js-repo-option").querySelector("input[type=checkbox]");a.checked=!a.checked}return}for(const n of e.querySelectorAll(".status-indicator-loading"))n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-success");document.querySelector(".js-repo-nav").replaceWith(o.html)}),(0,i.on)("change",".js-merge-features-form input[type=checkbox]",function({currentTarget:e}){const t=e.form;for(const s of t.querySelectorAll(".errored"))s.classList.remove("errored");const n=e.closest(".js-repo-option").querySelector(".js-status-indicator");n.classList.remove("status-indicator-success","status-indicator-failed"),n.classList.add("status-indicator-loading")}),(0,E.AC)(".js-merge-features-form",async function(e,t){try{await t.text()}catch(o){const n=o.response&&o.response.text.endsWith("(protected_branch_policy)")?".js-no-merge-commit-warning":".js-select-one-warning";for(const s of e.querySelectorAll(n))s instanceof HTMLElement&&(s.hidden=!1);for(const s of e.querySelectorAll(".status-indicator-loading")){s.classList.remove("status-indicator-loading"),s.classList.add("status-indicator-failed");const c=s.closest(".js-repo-option");c.classList.add("errored");const a=c.querySelector("input[type=checkbox]");a.checked=!a.checked}for(const s of e.querySelectorAll(".status-indicator-success"))s.classList.remove("status-indicator-success");return}for(const o of e.querySelectorAll(".errored"))o.classList.remove("errored");for(const o of e.querySelectorAll(".js-select-one-warning, .js-no-merge-commit-warning"))o instanceof HTMLElement&&(o.hidden=!0);for(const o of e.querySelectorAll(".status-indicator-loading"))o.classList.remove("status-indicator-loading"),o.classList.add("status-indicator-success")}),(0,i.on)("change","input.js-required-status-toggle",function({currentTarget:e}){e.closest(".js-protected-branch-settings").querySelector(".js-required-statuses").classList.toggle("d-none",!e.checked)}),(0,i.on)("change","input.js-required-deployments-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-settings").querySelector(".js-required-deployments");o.hidden=!e.checked}),(0,i.on)("change","input.js-required-status-checkbox",function({currentTarget:e}){e.closest(".js-protected-branches-item").querySelector(".js-required-status-badge").classList.toggle("d-none",!e.checked)}),(0,i.on)("auto-complete-change",".js-add-protected-branch-required-status-check",async function({target:e}){const t=e,o=t.value;if(!o)return;t.value="";const s=t.closest(".js-protected-branch-options").querySelector(".js-required-status-checks"),c=s.querySelector(`li[data-context='${o}']`);if(c){c.querySelector(".js-required-status-check-context").classList.add("user-already-added");return}const a=t.getAttribute("data-add-url"),f=new URL(a,window.location.origin),p=new URLSearchParams(f.search.slice(1));p.append("item",o),f.search=p.toString(),s.append(await(0,d.a)(document,f.toString()))}),(0,i.on)("click",".js-remove-required-status-check",function({currentTarget:e}){e.closest(".js-required-status-check").remove()}),(0,i.on)("change","input.js-reviewers-required-toggle",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options"),o=t==null?void 0:t.querySelector(".js-reviewers-count");if(!o)return;o.hidden=!e.checked;const n=o.querySelector(`input#required_approving_review_count_${o.hidden?0:1}`);!n||(n.click(),o.focus())}),(0,i.on)("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-options").querySelector(".js-authorized-pushers");o.classList.toggle("d-none",!e.checked),o.querySelector(".js-add-protected-branch-user-or-team input").focus()}),(0,i.on)("change","input.js-bypass-pull-request-toggle",function({currentTarget:e}){var t;const o=e.closest(".js-protected-branch-options");if(!o)return;const n=o.querySelector(".js-pull-request-bypassers");if(!!n){if(n.hidden=!e.checked,n.hidden){const s=o.querySelector(".js-authorized-users-and-teams");s==null||s.replaceChildren()}(t=n.querySelector(".js-add-protected-branch-user-or-team input"))==null||t.focus()}}),(0,i.on)("change",'input[type="radio"][name="allow_force_push"]',function({currentTarget:e}){var t;const o=e.closest(".js-protected-branch-options");if(!o)return;const n=o.querySelector(".js-allow-force-pushers");if(!!n){if(n.hidden=e.value!=="actors",n.hidden){const s=o.querySelector(".js-authorized-users-and-teams");s==null||s.replaceChildren()}(t=n.querySelector(".js-add-protected-branch-user-or-team input"))==null||t.focus()}}),(0,i.on)("change","input.js-force-push-toggle",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options");if(!t)return;const o=t.querySelector(".js-restrict-who-pushes");if(!!o&&(o.hidden=!e.checked,o.hidden)){const n=t.querySelector(".js-authorized-users-and-teams");n==null||n.replaceChildren()}}),(0,i.on)("click",".js-protected-branch-merge-queue-toggle",function(e){const t=e.currentTarget,o=t.getAttribute("data-confirm-if-checked")||"";!t.checked&&!confirm(o)&&e.preventDefault();const n=t.closest(".js-protected-branch-settings");if(!n)return;const s=n.querySelector(".js-protected-branch-merge-queue-settings");!s||(s.hidden=!t.checked)}),(0,i.on)("change",".js-protected-branch-include-admin-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const n of o)n.classList.toggle("d-none"),n.classList.toggle("active",!n.classList.contains("d-none"))});function Qe(e){const t=e.querySelector(".js-authorized-pushers");if(!(t==null?void 0:t.getAttribute("data-limit")))return;const o=parseInt(t.getAttribute("data-limit")||""),n=t.querySelectorAll(".js-authorized-user-or-team").length;t.classList.toggle("at-limit",n>=o)}r(Qe,"toggleMaxAllowedPushers"),(0,i.on)("auto-complete-change",".js-add-protected-branch-user-or-team",async function({target:e}){const t=e,o=t.value;if(!o)return;t.value="";const n=t.closest(".js-protected-branch-options"),s=n.querySelector(".js-authorized-users-and-teams"),c=s.querySelector(`div[data-user-or-team-name='${o}']`);if(c){c.querySelector(".js-protected-branch-pusher").classList.add("user-already-added");return}const a=t.getAttribute("data-add-url"),f=new URL(a,window.location.origin),p=new URLSearchParams(f.search.slice(1));p.append("item",o),f.search=p.toString(),s.append(await(0,d.a)(document,f.toString())),Qe(n)}),(0,i.on)("click",".js-remove-authorized-user-or-team",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options");e.closest(".js-authorized-user-or-team").remove(),Qe(t)}),(0,i.on)("click",".js-pages-cname-save-btn",function(){const e=document.querySelector(".js-pages-cname-remove-btn");e&&(e.disabled=!1)}),(0,P.N7)("#pages-cname-field",{constructor:HTMLInputElement,add(e){(0,Zt.oq)(e,function(){const t=document.querySelector(".js-pages-cname-save-btn"),o=document.querySelector(".js-pages-cname-remove-btn");e.value===""&&o?t.disabled=!0:t.disabled=e.value===e.defaultValue})}});const et=15*1e3;setTimeout(tt,et);async function tt(){const e=document.querySelector(".js-pages-certificate-status");if(e){const t=e.getAttribute("data-status-url"),o=await(0,d.a)(document,t);e.replaceWith(o),setTimeout(tt,et)}}r(tt,"checkCertificateStatus"),setTimeout(ot,2e3);async function ot(){const e=document.querySelector(".js-pages-domain-status");if(e){const t=e.getAttribute("data-domain-state");if(!["pending","queued"].includes(t))return;const o=e.getAttribute("data-domain-status-url"),n=await(0,d.a)(document,o);e.replaceWith(n),setTimeout(ot,5e3)}}r(ot,"checkDomainStatus");function Y(){return document.querySelector(".js-update-page-source-btn")}r(Y,"getPageSourceSubmitBtn");function ce(e){const t=document.querySelector(`input[name=${e}]:checked`);return t?t.value:null}r(ce,"getPageSource");function Yt(){const e=document.querySelector(".js-disable-page-warning");return e||null}r(Yt,"getPageWarningMessage");const Se=ce("source"),nt=ce("source_dir");(0,i.on)("change",".js-select-branch",e=>{const t=e.target;if(t.name!=="source")return;const o=document.querySelector(".js-select-source-dir"),n=document.querySelector(".js-branch-icon");t.value!==""?(n.hidden=!1,o.hidden=!1):(n.hidden=!0,o.hidden=!0);const s=Yt();s!=null&&(t.value===""?s.hidden=!1:s.hidden=!0),t.value!==Se?(Y().disabled=!1,t.value===""&&s!=null&&(Y().disabled=!0)):(nt===ce("source_dir")||Se==="")&&(Y().disabled=!0)}),(0,i.on)("change",".js-select-source-dir",e=>{const t=e.target;if(t.name!=="source_dir")return;t.value!==nt?Y().disabled=!1:ce("source")===Se&&(Y().disabled=!0)});function Qt(e){const t=e.querySelector("form>button");t.disabled=!0,e.querySelector("summary").classList.add("disabled");for(const n of e.querySelectorAll("details"))n.removeAttribute("open")}r(Qt,"disableRestoreButton");function eo(e,t){const o=e.querySelector(".js-restore-status");o.innerHTML="",o.append(t)}r(eo,"restoreStatus"),(0,i.on)("submit",".js-repo-restore",async function(e){const t=e.currentTarget;e.preventDefault();let o;const n=t.closest(".js-deleted-repository");try{o=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}})}catch{}if(!o||!o.ok)return;const s=(0,Z.r)(document,await o.text());eo(n,s)}),(0,P.N7)(".js-restore-repo-job",function(e){const t=e.closest(".js-deleted-repository");Qt(t)}),(0,i.on)("click",".js-disableable-summary.disabled",e=>e.preventDefault()),(0,i.on)("click",".js-used-by-selector-button",function({currentTarget:e}){const t=e.closest(".js-used-by-selector");if(t!=null){const o=t.querySelector(".js-status-indicator");o!=null&&(o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading"))}});const st=new WeakMap,Q=new WeakMap,to=100;async function rt(e){const t=e.closest(".js-repository-selection-component"),o=st.get(t)||0;if(o>to)return;e.textContent=e.getAttribute("data-disable-with"),e.disabled=!0,st.set(t,o+1);const n=e.getAttribute("data-url");oo(t,n),await Promise.resolve(),t.dispatchEvent(new CustomEvent("repository-items-loaded"))}r(rt,"loadMoreRepositoryItems");async function oo(e,t){const o=await(0,d.a)(document,t);e.querySelector(".js-more-repository-items-replace-target").replaceWith(o),no(e)}r(oo,"fetchItemsAsync"),(0,i.on)("click",".js-more-repository-items-button",function(e){const t=e.currentTarget;rt(t)}),(0,P.N7)(".js-more-repository-items-button",{constructor:HTMLButtonElement,add:rt});function no(e){(0,i.f)(e.querySelector(".js-repository-items-filter-input"),"change")}r(no,"filterRepositoryItems");function so(e){const t=e.target;if((t==null?void 0:t.type)!=="checkbox")return;const o=t.closest(".js-repository-selection-component"),n=Q.get(o)||new Set;n.has(t.value)?n.delete(t.value):n.add(t.value),Q.set(o,n);const s=t.closest(".js-repository-items-dialog");it(s,n.size>0)}r(so,"saveChangedCheckbox");function it(e,t){const o=e.querySelector(".js-btn-select-repositories");o.disabled=!t}r(it,"setUpdateSelectionButtonState");function ro(e){const t=e.currentTarget.closest(".js-repository-items-dialog");if(!t)return;const o=t.querySelector(".js-repository-selection-component");if(!o.hasAttribute("data-discard-changes-on-close"))return;const n=Q.get(o);if(!!n){for(const s of n.keys()){const c=o.querySelector(`[value='${s}']`);c.checked=!c.checked}Q.set(o,new Set),it(t,!1)}}r(ro,"undoChangedCheckboxes");function ct(e){const t=e.currentTarget,o=t.closest(".js-repository-items-dialog");if(!o)return;const n=Array.from(t.querySelectorAll(".js-repository-item-checkbox")).filter(c=>c.checked).length,s=o.querySelector(".js-selected-repositories-count-container");s.querySelector(".js-selected-repositories-count").textContent=n.toString(),s.querySelector(".js-multiple-repositories-text").hidden=n===1,s.querySelector(".js-single-repository-text").hidden=n!==1}r(ct,"repository_selection_input_updateSelectedRepositoryCount"),(0,i.on)("change",".js-repository-selection-component",ct),(0,i.on)("reset",".js-repository-selection-component",ct),(0,i.on)("change",".js-repository-selection-component",so),(0,i.on)("click",".js-btn-select-repositories",function(e){const o=e.target.closest(".js-repository-items-dialog").querySelector(".js-repository-selection-component");Q.set(o,new Set),o.closest("details-dialog").toggle(!1),document.querySelector(".js-org-secrets-selection")&&(ye(),be(e))}),(0,i.on)("details-dialog-close",".js-repository-items-dialog",ro);var at=h(46312);(0,i.on)("click",".js-repo-toggle-team",async function({currentTarget:e}){(0,at.l)(".js-repo-team-suggestions-pagination",".js-repo-toggle-team");const t=e;(0,at.V)(t,"form.js-repository-teams")}),(0,K.q6)(".js-synced-repo-owner-input",function(e){const t=e.target,o=t.getAttribute("data-sync");if(!o)return;const n=document.querySelectorAll(`[data-sync-with="${o}"]`);for(const s of n)s.textContent=t.value});var lt=h(3238),io=Object.defineProperty,co=Object.getOwnPropertyDescriptor,U=r((e,t,o,n)=>{for(var s=n>1?void 0:n?co(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&io(t,o,s),s},"retention_form_element_decorateClass");let F=r(class extends HTMLElement{validate(){this.resetState();const e=this.input.hasAttribute("data-allow-nil");if(!this.input.value&&!e)return;const t=+this.input.value,o=this.input.getAttribute("data-min"),n=this.input.getAttribute("data-max");if(e&&!t){this.button.disabled=!1;return}if(o&&t<+o){this.group.classList.add("errored"),this.minMessage.hidden=!1,(0,lt.N)(this.note);return}if(n&&t>+n){this.group.classList.add("errored"),this.maxMessage.hidden=!1,(0,lt.N)(this.note);return}this.button.disabled=!1}resetState(){this.minMessage.hidden=!0,this.maxMessage.hidden=!0,this.group.classList.remove("errored"),this.button.disabled=!0}},"RetentionFormElement");U([l.fA],F.prototype,"group",2),U([l.fA],F.prototype,"input",2),U([l.fA],F.prototype,"button",2),U([l.fA],F.prototype,"minMessage",2),U([l.fA],F.prototype,"maxMessage",2),U([l.fA],F.prototype,"note",2),F=U([l.Ih],F);var Co=h(99247);(0,E.AC)(".js-create-runner-label-form",async function(e,t){var o;let n;const s=e.closest(".js-runner-labels-menu"),c=s.querySelector(".js-runner-label-error");try{n=await t.html()}catch(q){((o=q.response.json)==null?void 0:o.message)&&c&&(c.textContent=q.response.json.message,c.hidden=!1);return}if(!n||!n.html)return;c&&(c.hidden=!0,c.textContent="");const a=n.html.querySelector(".js-label-input");s.querySelector(".js-filterable-runner-labels").prepend(n.html),a==null||a.click();const p=s.querySelector(".js-label-filter-field");p.value="",p.focus()});function ao({currentTarget:e}){if(e instanceof Element){const t=e.querySelector(".js-runner-labels-form");(0,M.Bt)(t)}}r(ao,"submitOnMenuClose");function lo({currentTarget:e}){var t;if(e instanceof Element){const n=e.querySelector(".js-filterable-runner-labels").getElementsByClassName("select-menu-item"),s=[];for(const p of n)if(((t=p.attributes.getNamedItem("aria-checked"))==null?void 0:t.value)==="true"){const q=p.querySelector(".select-menu-item-text");q instanceof HTMLElement&&s.push(q.textContent)}const c=e.closest(".js-label-container"),a=c.querySelector("#premium-runner-label-template"),f=c.querySelector("#premium-runner-label-details-list");for(let p=c.children.length-2;p>0;p--)c.children[p].classList.contains("js-user-label")&&c.removeChild(c.children[p]);for(const p of s){const q=a.cloneNode(!0);q instanceof HTMLElement&&(q.removeAttribute("hidden"),q.textContent=p,c.appendChild(q))}c.appendChild(f)}}r(lo,"addLabelsOnMenuClose"),(0,i.on)("details-menu-selected",".js-runner-labels-details",function(e){e.currentTarget.addEventListener("toggle",ao,{once:!0})},{capture:!0}),(0,i.on)("details-menu-selected",".js-runner-labels-details-list",function(e){e.currentTarget.addEventListener("toggle",lo,{once:!0})},{capture:!0}),(0,E.AC)(".js-saved-reply-delete",async function(e,t){await t.text();const o=e.closest(".js-saved-reply-container"),n=o.querySelectorAll(".js-saved-reply-list-item").length,s=o.querySelector(".js-saved-reply-list");s.hidden=n<=1;const c=o.querySelector(".js-saved-reply-empty-container");n===1&&(c.hidden=!1),e.closest(".js-saved-reply-list-item").remove()});var uo=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,ee=r((e,t,o,n)=>{for(var s=n>1?void 0:n?mo(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&uo(t,o,s),s},"security_analysis_decorateClass");let W=r(class extends HTMLElement{toggle(){this.checkbox.checked?(this.status.hidden=!0,this.dialog.open=!0):(this.status.hidden=!1,(0,M.Bt)(this.form))}confirm(){this.status.hidden=!1,(0,M.Bt)(this.form),this.dialog.open=!1}close(){this.checkbox.checked=!1}},"AdvancedSecurityNewReposElement");ee([l.fA],W.prototype,"checkbox",2),ee([l.fA],W.prototype,"status",2),ee([l.fA],W.prototype,"dialog",2),ee([l.fA],W.prototype,"form",2),W=ee([l.Ih],W);var ut=h(94745),po=h(8758);function we(){return document.querySelector(".js-add-u2f-registration-form")}r(we,"u2fForm");const dt="data-webauthn-register-request";function qe(e){var t;e.webauthn_register_request&&((t=we())==null||t.setAttribute(dt,JSON.stringify(e.webauthn_register_request)))}r(qe,"updateDataAttribute"),(0,E.AC)(".js-u2f-registration-delete",async function(e,t){const o=e.closest(".js-u2f-registration"),n=o.querySelector(".js-u2f-registration-delete-button");n?n.disabled=!0:o.classList.add("is-sending");const s=await t.json();if(qe(s.json),o.remove(),n&&s.json.registered_trusted_devices_count===0){const c=document.querySelector(".js-add-u2f-registration");c.hidden=!1}}),(0,i.on)("click",".js-add-u2f-registration-link",function(){const e=document.querySelector(".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),document.querySelector(".js-u2f-registration-nickname-field").focus()});function ke(e){const t=document.querySelector(".js-new-u2f-registration");t.classList.add("is-showing-error"),t.classList.remove("is-sending");for(const s of t.querySelectorAll(".js-webauthn-message"))s.hidden=!0;const o=t.querySelector(".js-webauthn-registration-error");o.hidden=!1;const n=t.querySelector(".js-webauthn-registration-error-message");n.textContent=e!=null?e:""}r(ke,"webauthn_create_showError");function fo(){document.querySelector(".js-new-u2f-registration").classList.remove("is-sending","is-active")}r(fo,"resetForm");async function ho(e){if(!await(0,po.Z)())throw new Error("sudo failed");const o=document.querySelector(".js-add-u2f-registration-form");o.elements.namedItem("response").value=JSON.stringify(e);let n;try{if(n=await fetch(o.action,{method:o.method,body:new FormData(o),headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),!n.ok)throw new Error("Response was not ok");const s=await n.json();qe(s),fo();const c=s.registration;if(c){const a=document.querySelector(".js-u2f-registrations");a?a.append((0,Z.r)(document,c)):(document.querySelector(".js-u2f-registration-nickname-field").value=s.nickname||"",document.querySelector(".js-new-u2f-registration-success").hidden=!1,document.querySelector(".js-new-u2f-registration").hidden=!0,document.querySelector(".js-new-u2f-registration-never-ask").hidden=!0,document.querySelector(".js-webauthn-confirm").hidden=!0,document.querySelector(".js-trusted-device-continue").focus())}}catch{if(n){const c=await n.json();qe(c),ke(c.error)}else ke()}}r(ho,"saveRegistration");function go(){const e=document.querySelector(".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}r(go,"showSpinner");async function yo(){try{go();const e=JSON.parse(we().getAttribute(dt)),t=await(0,ut.Ue)(e);await ho(t)}catch(e){const o=we().classList.contains("js-trusted-device-safari-workaround")&&e.name==="NotAllowedError";if(e.name==="InvalidStateError"||o)document.querySelector(".js-new-u2f-registration").hidden=!0,document.querySelector(".js-webauthn-confirm").hidden=!1,document.querySelector(".js-webauthn-confirm-button").focus();else throw ke(),e}}r(yo,"waitForWebauthnDevice");function mt(){yo()}r(mt,"attemptSecurityKeyRegistration"),(0,i.on)("click",".js-add-u2f-registration-retry",function(){mt()}),(0,P.N7)(".js-add-u2f-registration-form.for-trusted-device",{constructor:HTMLFormElement,add(e){e.hidden=!1,document.querySelector(".js-trusted-device-registration-button").focus()}}),(0,i.on)("submit",".js-add-u2f-registration-form",function(e){e.preventDefault(),mt()}),(0,P.N7)(".js-webauthn-box",function(e){e.classList.toggle("available",(0,ut.Zh)())}),(0,i.on)("auto-check-success",".js-u2f-registration-nickname-field",function(){const e=document.querySelector(".js-trusted-device-continue");e.disabled=!1}),(0,i.on)("auto-check-send",".js-u2f-registration-nickname-field",function(){const e=document.querySelector(".js-trusted-device-continue");e.disabled=!0});var bo=Object.defineProperty,vo=Object.getOwnPropertyDescriptor,ae=r((e,t,o,n)=>{for(var s=n>1?void 0:n?vo(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&bo(t,o,s),s},"selected_item_count_decorateClass");let te=r(class extends HTMLElement{updateCount(e){this.selectedCount.textContent=String(e),this.pluralItemsDescription.hidden=e===1,this.singularItemDescription.hidden=e!==1}},"SelectedItemCountElement");ae([l.fA],te.prototype,"selectedCount",2),ae([l.fA],te.prototype,"pluralItemsDescription",2),ae([l.fA],te.prototype,"singularItemDescription",2),te=ae([l.Ih],te);var jo=Object.defineProperty,So=Object.getOwnPropertyDescriptor,N=r((e,t,o,n)=>{for(var s=n>1?void 0:n?So(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&jo(t,o,s),s},"selected_item_list_decorateClass");let O=r(class extends HTMLElement{connectedCallback(){var e;(e=this.includeFragment)==null||e.addEventListener("include-fragment-replaced",()=>{this.updateCount(),this.saveButton&&(this.saveButton.disabled=!1)})}get count(){return this.items.filter(e=>e.checked).length}updateCount(){const e=this.count;this.selectedCount.textContent=String(e),this.description.hidden=e<=0,this.pluralItemsDescription.hidden=e===1,this.singularItemDescription.hidden=e!==1}hideDescription(){this.description.hidden=!0}showDescription(){const e=this.count;this.description.hidden=e<=0}},"SelectedItemListElement");N([l.fA],O.prototype,"selectedCount",2),N([l.fA],O.prototype,"pluralItemsDescription",2),N([l.fA],O.prototype,"singularItemDescription",2),N([l.fA],O.prototype,"description",2),N([l.GO],O.prototype,"items",2),N([l.fA],O.prototype,"includeFragment",2),N([l.fA],O.prototype,"saveButton",2),O=N([l.Ih],O);function wo(e){return new Promise(t=>{let o=performance.now();function n(){window.requestAnimationFrame(s=>{e(s-o)!==!1?(o=s,n()):t()})}r(n,"tick"),n()})}r(wo,"animate");var qo=Object.defineProperty,ko=Object.getOwnPropertyDescriptor,T=r((e,t,o,n)=>{for(var s=n>1?void 0:n?ko(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&qo(t,o,s),s},"theme_picker_element_decorateClass");const Ae=6;let C=r(class extends HTMLElement{constructor(){super(...arguments);this.scrolledPage=0}connectedCallback(){this.theme(this.themeLinks.find(e=>e.classList.contains("selected"))||this.themeLinks[0]),this.updateScrollLinks()}hideSpinner(){this.spinner.hidden=!0}onThemeLinkClick(e){this.theme(e.currentTarget),e.preventDefault()}toggleFullPicker(e){const t=e.currentTarget;this.fullPicker.hidden=!this.fullPicker.hidden,this.miniPicker.hidden=!this.fullPicker.hidden,this.scrollToTheme(this.theme(),!1),t.classList.toggle("open")}onEditClick(e){this.editForm&&(0,M.Bt)(this.editForm),e.preventDefault()}onPublishClick(e){var t;this.publishThemeSlugInput&&(this.publishThemeSlugInput.value=((t=this.theme())==null?void 0:t.getAttribute("data-theme-slug"))||""),this.publishForm&&(0,M.Bt)(this.publishForm),e.preventDefault()}prevPage(){this.scrollToTheme(this.themeLinks[0]),this.updateScrollLinks()}nextPage(){this.scrollToTheme(this.themeLinks[Ae]),this.updateScrollLinks()}updateScrollLinks(){const e=this.scrolledPage===0;this.scrollBackwardsLink.disabled=e,this.scrollBackwardsLink.classList.toggle("disabled",e),this.scrollForwardsLink.disabled=!e,this.scrollForwardsLink.classList.toggle("disabled",!e)}selectedThemeIndex(){return this.themeLinks.indexOf(this.selectedTheme)}prevTheme(e){let t=(this.selectedThemeIndex()-1)%this.themeLinks.length;t<0&&(t+=this.themeLinks.length),this.theme(this.themeLinks[t]),e.preventDefault()}nextTheme(e){this.theme(this.themeLinks[(this.selectedThemeIndex()+1)%this.themeLinks.length]),e.preventDefault()}scrollToTheme(e,t=!0){this.scrolledPage=Math.floor(this.themeLinks.indexOf(e)/Ae);let o=0;this.scrolledPage>0&&(o=this.themeLinks[this.scrolledPage*Ae].offsetLeft);const n=this.themeLinksContainer,s=o-n.scrollLeft;t&&s!==0?wo(a=>{if(a<0)return;const f=n.scrollLeft;n.scrollLeft=Math[o-f>0?"min":"max"](f+s*(a/150),o);const p=n.scrollLeft;if(f===p)return!1}):n.scrollLeft=o}theme(e){if(e){this.selectedTheme=e,this.showPreviewFor(e);for(const t of this.themeLinks)t.classList.remove("selected");e.classList.add("selected"),this.scrollToTheme(e),this.themeName.textContent=e.getAttribute("data-theme-name")}else return this.selectedTheme}showPreviewFor(e){var t;this.spinner.hidden=!1,e.getAttribute("data-theme-gem")?this.pagePreview.setAttribute("src",e.href):(this.themeSlugInput&&(this.themeSlugInput.value=((t=this.theme())==null?void 0:t.getAttribute("data-theme-slug"))||""),this.previewForm&&(0,M.Bt)(this.previewForm))}},"ThemePickerElement");T([l.fA],C.prototype,"pagePreview",2),T([l.fA],C.prototype,"spinner",2),T([l.fA],C.prototype,"fullPicker",2),T([l.fA],C.prototype,"miniPicker",2),T([l.fA],C.prototype,"themeName",2),T([l.fA],C.prototype,"scrollBackwardsLink",2),T([l.fA],C.prototype,"scrollForwardsLink",2),T([l.fA],C.prototype,"themeLinksContainer",2),T([l.GO],C.prototype,"themeLinks",2),T([l.fA],C.prototype,"themeSlugInput",2),T([l.fA],C.prototype,"editForm",2),T([l.fA],C.prototype,"publishForm",2),T([l.fA],C.prototype,"publishThemeSlugInput",2),T([l.fA],C.prototype,"previewForm",2),C=T([l.Ih],C),(0,i.on)("upload:setup",".js-upload-repository-image",function(){document.querySelector(".js-remove-repository-image-button").hidden=!0}),(0,i.on)("upload:complete",".js-upload-repository-image",function(e){const{attachment:t}=e.detail;document.querySelector(".js-repository-image-id").value=t.id,document.querySelector(".js-remove-repository-image-button").hidden=!1,document.querySelector(".js-repository-image-container").style.backgroundImage=`url(${t.href})`});function _e(e,t){const o=e.querySelector(".js-add-new-user");o.disabled=!t}r(_e,"resetUserAddForm"),(0,P.N7)(".js-add-user-form",function(e){_e(e,!1)}),(0,i.on)("auto-complete-change",".js-add-user-completer",function({target:e}){const t=e,o=t.closest(".js-add-user-form");_e(o,!!t.value);const n=document.querySelector(".js-designated-user");n&&(t.value?n.textContent=`@${t.value}`:n.textContent=n.getAttribute("data-autocomplete-text"))}),(0,E.AC)(".js-remote-submit",async function(e,t){const o=await t.html(),n=document.querySelector(".js-user-block-settings-list"),s=n.querySelector(".js-blocked-list"),c=n.querySelector(".js-user-block-blank-slate");_e(e,!1);const a=e.querySelector(".js-add-blocked-user-field");(0,M.Se)(a,""),c.hidden=!0,s.hidden=!1,s.prepend(o.html)}),(0,E.AC)(".js-user-sessions-revoke",async function(e,t){await t.text();const o=e.closest(".js-user-sessions-container");if(e.closest(".js-user-session").remove(),o){const s=o.querySelectorAll(".js-user-session").length;o.classList.toggle("has-active-sessions",s>0)}});var Ao=Object.defineProperty,_o=Object.getOwnPropertyDescriptor,oe=r((e,t,o,n)=>{for(var s=n>1?void 0:n?_o(t,o):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(n?a(t,o,s):a(s))||s);return n&&s&&Ao(t,o,s),s},"default_location_setting_element_decorateClass");let z=r(class extends HTMLElement{async changeManuallySelected(){this.manualRadioButton.checked&&(this.regionSelect.disabled=!1,this.regionSelect.value!==""&&await this.regionSelected())}async changeAutoSelected(){this.autoRadioButton.checked&&(this.regionSelect.disabled=!0,await this.submitSelectedRegion(null))}async regionSelected(){const e=this.regionSelect.value;await this.submitSelectedRegion(e)}async submitSelectedRegion(e){const t=new FormData(this.locationForm);e!==null&&t.append("codespace_default_location",e);const o=await fetch(this.locationForm.action,{method:this.locationForm.method,body:t,headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}}),n=(0,Z.r)(document,await o.text());this.closest(".js-default-location-setting-container").replaceWith(n)}},"DefaultLocationSettingElement");oe([l.fA],z.prototype,"manualRadioButton",2),oe([l.fA],z.prototype,"regionSelect",2),oe([l.fA],z.prototype,"locationForm",2),oe([l.fA],z.prototype,"autoRadioButton",2),z=oe([l.Ih],z),(0,E.AC)(".js-verify-ssh-key",async function(e,t){await t.html();const o=e.closest("li");o.querySelector(".js-unverified-user-key-notice").remove(),o.querySelector(".js-user-key-icon").classList.remove("color-fg-danger"),e.remove()}),(0,E.AC)(".js-leave-collaborated-repo",async function(e,t){await t.html();const o=e.getAttribute("data-repo-id"),n=e.getAttribute("data-owner-login");document.querySelector(`.js-collab-repo[data-repo-id='${o}']`).remove(),document.querySelector(".js-collab-repo")||(document.querySelector(".js-collaborated-repos-empty").hidden=!1,document.querySelector(".js-collaborated-repos").hidden=!0);const s=document.querySelector(`.js-collab-repo-owner[data-owner-login='${n}']`);s&&(s.querySelector(".js-collab-repo")||s.remove())}),(0,i.on)("submit",".js-codespaces-user-settings-form",async e=>{const t=e.currentTarget;e.preventDefault();const o=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/fragment+html"}});if(o.status>=400){const n="An unknown error occurred.",s=document.querySelector("template.js-flash-template");s.after(new Te.R(s,{className:"flash-error",message:n}))}else{const n=t.closest("[data-replace-remote-form-target]"),s=(0,Z.r)(document,await o.text());n.replaceWith(s)}}),(0,i.on)("click",".js-codespaces-user-secrets-form input[name=repo]",async e=>{const t=e.currentTarget,o=t.closest("form");if(!o.querySelector(`[name="codespaces_user_secret[repository_ids][]"][value="${t.value}"]`)){const n=t.closest(".select-menu-item-text").querySelector("[data-menu-button-contents]").textContent;if(n&&t.value){const s=Lo(n,t.value);o.querySelector('[data-target="selected-repositories.repositories"]').append(s)}pt(e)}t.closest("details").removeAttribute("open"),e.preventDefault()}),(0,i.on)("change",'.js-codespaces-user-secrets-form input[name="codespaces_user_secret[repository_ids][]"]',pt);function Lo(e,t){const o=document.createElement("li");o.className="css-truncate d-flex flex-items-center width-full";const n=document.createElement("input");n.className="repository-item-checkbox js-repository-item-checkbox mx-2 position-absolute",n.type="checkbox",n.name="codespaces_user_secret[repository_ids][]",n.value=t,n.id=`user-secret-repo-${t}`,n.checked=!0,o.append(n);const s=document.createElement("label");return s.className="repository-item-name d-flex flex-items-center width-full color-fg-default py-1 pr-1 pl-5",s.setAttribute("for",`user-secret-repo-${t}`),s.title=e,s.textContent=e,o.append(s),o}r(Lo,"createRepositoryRow");function pt(e){const o=e.currentTarget.closest("form"),n=o.querySelectorAll('[name="codespaces_user_secret[repository_ids][]"]:checked').length;o.querySelector('[data-target="selected-repositories.plural"]').hidden=n===1,o.querySelector('[data-target="selected-repositories.singular"]').hidden=n!==1,o.querySelector('[data-target="selected-repositories.count"]').textContent=String(n),o.querySelector('[data-target="selected-repositories.active-warning"]').hidden=n!==0}r(pt,"user_settings_updateSelectedRepositoryCount"),(0,i.on)("focusout",'.js-codespaces-user-secrets-form input[name="codespaces_user_secret[name]"]',e=>{const t=e.currentTarget,o=t.value,n=new RegExp("^(?!github).+","i"),s=t.closest("div.form-group");n.test(o)?(t.setCustomValidity(""),s.classList.remove("errored")):(t.setCustomValidity('Secret names cannot start with "GITHUB"'),s.classList.add("errored")),t.closest("form").dispatchEvent(new Event("change"))}),(0,i.on)("focusout",'.js-codespaces-user-secrets-form textarea[name="secret_value"]',e=>{const t=e.currentTarget,o=t.value,n=t.closest("div.form-group");o.trim()===""?n.classList.add("errored"):n.classList.remove("errored")}),(0,i.on)("change",".js-default-token-expiration-select",function(e){const t=e.target,o=document.getElementById("custom-expires-wrapper"),n=document.querySelector("#custom-expires-wrapper .form-select"),s=document.getElementById("token-expiration"),c=document.getElementById("expiration-helper-note"),a=document.getElementById("no-expiration-warning"),f=c.querySelector(".note");if(t&&n)if(t.value==="custom")c.setAttribute("hidden","hidden"),a.setAttribute("hidden","hidden"),o.removeAttribute("hidden");else{o.setAttribute("hidden","hidden"),n.value="",c.removeAttribute("hidden"),s.classList.remove("errored"),t.value==="none"?a.removeAttribute("hidden"):a.setAttribute("hidden","hidden");const p=t.selectedIndex,_=t.children[p].getAttribute("data-human-date");_&&(f.textContent=_)}}),(0,i.on)("click","#load-readme",function(e){const t=document.querySelector("#gollum-editor-body"),o=document.querySelector("#editor-body-buffer"),n=document.querySelector("#undo-load-readme"),s=o.textContent,c=e.currentTarget.getAttribute("data-readme-name");if(ft(t,o),!(e.currentTarget instanceof HTMLButtonElement))return;e.currentTarget.disabled=!0,e.currentTarget.textContent=`${c} loaded`,n.classList.remove("d-none");function a(){t.value!==s&&(n.classList.add("d-none"),t.removeEventListener("input",a))}r(a,"hideUndoLinkIfChanged"),t.addEventListener("input",a)}),(0,i.on)("click","#undo-load-readme",function(e){const t=document.querySelector("#gollum-editor-body"),o=document.querySelector("#editor-body-buffer");ft(t,o);const n=document.querySelector("#load-readme"),s=n.getAttribute("data-readme-name");n.disabled=!1,n.textContent=`Load ${s}`,e.currentTarget.classList.add("d-none")});function ft(e,t){const o=e.value;e.value=t.textContent||"",t.textContent=o}r(ft,"swapEditorAndBufferValues");var To=h(21349),Io=h(61419)}},L=>{var A=r(l=>L(L.s=l),"__webpack_exec__");L.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_details-dialog-elemen-63debe","vendors-node_modules_github_remote-form_dist_index_js-node_modules_github_catalyst_lib_index_-87b1b3","vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_mini-throt-1b17ee","github_has-interactions_ts-github_orgs_invitations_ts-github_sudo_ts"],()=>A(96143));var h=L.O()}]);})();

//# sourceMappingURL=settings-af667c82fb86466c5c59915719d0db0ee6ab2dabb3f674e136923486fa4fffbf2c66226bfb0636986761b5ee9ac677622bb69364a74fca4c63af7e925d9b7345.js.map